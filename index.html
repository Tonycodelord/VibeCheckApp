<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VibeCheck</title>

    <!-- Link to Favicon -->
    <link rel="icon" href="favicon.ico" type="image/x-icon">

    <!-- Custom Styles -->
    <link rel="stylesheet" href="style.css">

    <!-- Google Font (Poppins for better UI) -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

    <!-- ✅ Firebase SDKs (Non-Module Version) -->
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.0.0/firebase-storage.js"></script>

    <!-- ✅ Initialize Firebase -->
    <script>
        // 🔥 Firebase Configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAUl0HS2yBxzPxfvx3YRC0-7eIx1p_AA7Q",
            authDomain: "vibecheckapp-461a4.firebaseapp.com",
            databaseURL: "https://vibecheckapp-461a4-default-rtdb.firebaseio.com/",
            projectId: "vibecheckapp-461a4",
            storageBucket: "vibecheckapp-461a4.appspot.com",
            messagingSenderId: "195496679834",
            appId: "1:195496679834:web:45bf2232a0bf420f750223",
            measurementId: "G-0CC63FE5P4"
        };

        // ✅ Initialize Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const auth = firebase.auth();
        const database = firebase.database();
        const storage = firebase.storage();

        // ✅ Attach Firebase Services to `window` so `script.js` can access them
        window.firebaseApp = app;
        window.firebaseAuth = auth;
        window.firebaseDatabase = database;
        window.firebaseStorage = storage;
    </script>
</head>

<body>
    <h1>VibeCheck</h1>
    <p>How are you feeling today?</p>

    <!-- Mood Selection with Emoji Buttons -->
    <div id="emojiButtons">
        <button onclick="updateMood('happy')">😊</button>
        <button onclick="updateMood('excited')">🤩</button>
        <button onclick="updateMood('calm')">😌</button>
        <button onclick="updateMood('sad')">😢</button>
        <button onclick="updateMood('angry')">😡</button>
        <button onclick="updateMood('relaxed')">😎</button>
    </div>

    <!-- Display Selected Mood -->
    <h2>Your Current Mood: <span id="moodDisplay">😐</span></h2>

    <!-- Mood Meter (Progress Bar) -->
    <h3>Mood Meter:</h3>
    <div id="moodMeterContainer">
        <div id="moodMeter"></div>
    </div>

    <!-- Previous Moods List -->
    <h3>Your Previous Moods:</h3>
    <ul id="moodList"></ul>

    <!-- Public Mood Feed -->
    <h3>🌍 Public Mood Feed:</h3>
    <ul id="publicMoodList"></ul>

    <!-- User Login Section -->
    <div id="authSection">
        <button id="loginBtn" onclick="signIn()">Sign in with Google</button>
        <button id="logoutBtn" onclick="signOut()" style="display: none;">Sign Out</button>
        <p id="userStatus">Not Signed In</p>
    </div>

    <!-- Profile Button -->
    <button id="profileBtn" onclick="showUserProfile()">👤 View Profile</button>

    <!-- User Profile Section -->
    <div id="profilePage" style="display: none;">
        <h2>Your Profile</h2>

        <!-- Profile Picture -->
        <img id="profilePic" src="" alt="Profile Picture" width="80">
        <h3 id="profileName"></h3>

        <!-- Profile Picture Upload -->
        <input type="file" id="profilePicInput" accept="image/*">
        <button onclick="uploadProfilePicture()">📤 Upload</button>

        <!-- Bio Section -->
        <textarea id="profileBio" placeholder="Write something about yourself..."></textarea>
        <button onclick="saveBio()">💾 Save Bio</button>
        <p id="savedBio"></p>

        <!-- User's Mood History -->
        <h3>Your Past Moods</h3>
        <ul id="userMoodList"></ul>

        <!-- Back to Home Button -->
        <button onclick="closeUserProfile()">🏠 Back to Home</button>
    </div>

    <!-- ✅ Load script.js AFTER Firebase is initialized -->
    <script src="script.js" defer></script>

</body>
</html>







